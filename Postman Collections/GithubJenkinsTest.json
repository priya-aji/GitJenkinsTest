{
  "info": {
    "_postman_id": "950169d8-778d-4257-ba28-e2eebab44561",
    "name": "GithubJenkinsTest",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "name": "LogontoNoiseConnector",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "1a85db99-4df3-48d3-941e-cdd79989fc29",
            "exec": [
              "//postman.setNextRequest(\"SubmitNoiseServiceRequest\");"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "_postman_id": "d0099370-7cc0-433b-accd-c0f77e9fd3c4",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "name": "Content-Type",
            "value": "text/xml",
            "type": "text"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \r\nxmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">\r\n  <soap:Body>\r\n    <LogonToConnector xmlns=\"http://www.caps-solutions.co.uk/webservices/connectors/75/servicerequest/service\">\r\n      <UniformLoginCredentials>\r\n        <DatabaseID>D-BASE_ID</DatabaseID>\r\n        <UniformUserName>train1</UniformUserName>\r\n        <UniformPassword></UniformPassword>\r\n      </UniformLoginCredentials>\r\n    </LogonToConnector>\r\n  </soap:Body>\r\n</soap:Envelope>",
          "options": {
            "raw": {
              "language": "xml"
            }
          }
        },
        "url": {
          "raw": "http://devappcore10/ServiceRequestConnectorService_Q1051M12IdoxTRAIN/ServiceRequestConnectorService.asmx?WSDL",
          "protocol": "http",
          "host": [
            "devappcore10"
          ],
          "path": [
            "ServiceRequestConnectorService_Q1051M12IdoxTRAIN",
            "ServiceRequestConnectorService.asmx"
          ],
          "query": [
            {
              "key": "WSDL",
              "value": null
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "SubmitNoiseServiceRequest",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "4b3538fa-8cfb-4a22-9237-06baef8af450",
            "exec": [
              "// Convert XML output to JSON format\r",
              "var jsonObject = xml2Json(responseBody);\r",
              "\r",
              "\r",
              "// Since the converted JSON format is having Envelope and Body tags we need following format\r",
              "var currentReferenceVal = jsonObject['soap:Envelope']['soap:Body'].SubmitNoiseServiceRequestResponse.ServiceRequestIdentification.ReferenceValue;\r",
              "\r",
              "pm.environment.set(\"NSRRefVal\", currentReferenceVal);\r",
              "\r",
              "console.log(pm.environment.get(\"NSRRefVal\"));\r",
              "\r",
              "\r",
              "//postman.setNextRequest(\"GetNoiseServiceRequestForUpdateByReferenceValue\");"
            ],
            "type": "text/javascript"
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "8921cfe9-af99-4635-830f-26481039d0c7",
            "exec": [
              "//random fine or fee value \r",
              "    pm.environment.set(\"FineOrFeeAmt\", _.random(1500, 3500));\r",
              "    console.log(\"FineOrFee amount = \" + pm.environment.get(\"FineOrFeeAmt\"));\r",
              "\r",
              "\r",
              "// Assign Address and UPRN\r",
              "    pm.environment.set(\"SubmitAddressValue\", \"966 Bethel Street,Neath,Notts,West Glamorgan,AS12 3ON\");\r",
              "\r",
              "    console.log(\"SubmitAddressValue = \" + pm.environment.get(\"SubmitAddressValue\"));\r",
              "\r",
              "    pm.environment.set(\"SubmitUPRN\", \"999000001824\");\r",
              "\r",
              "    console.log(\"SubmitUPRN = \" + pm.environment.get(\"SubmitUPRN\"));\r",
              "\r",
              "\r",
              "// Assign a NatureOfComplaint\r",
              "    pm.environment.set(\"SubmitNatureOfComplaint\", \"Loud Music\");\r",
              "\r",
              "    console.log(\"SubmitNatureOfComplaint = \" + pm.environment.get(\"SubmitNatureOfComplaint\"));\r",
              "\r",
              "\r",
              "//Assign How Complaint Received   \r",
              "    //Add\u00a0available\u00a0option\u00a0to\u00a0array\r",
              "        var vMethodReceived = [\"TELEPH\", \"EMAIL\", \"VISIT\", \"LETTER\", \"CCLT\"];\r",
              "\r",
              "    //generate\u00a0a\u00a0random\u00a0number\r",
              "        pm.environment.set(\"arrayN\", _.random(0, 4));\r",
              "\r",
              "    //assign\u00a0above\u00a0random\u00a0number\u00a0as\u00a0array\u00a0index\r",
              "        pm.environment.set(\"SubmitHowComplaintReceived\", vMethodReceived[pm.environment.get(\"arrayN\")]);\r",
              "\r",
              "        console.log(\"How Complaint Received\u00a0=\u00a0\" + pm.environment.get(\"SubmitHowComplaintReceived\"));\r",
              "\r",
              "\r",
              "// Assign Where Complaint Received\r",
              "    //Add\u00a0available\u00a0option\u00a0to\u00a0array\r",
              "        var vWhereReceived = [\"CAB\", \"CAD\", \"CAM\", \"T\", \"V\", \"O\"];\r",
              "\r",
              "    //generate\u00a0a\u00a0random\u00a0number\r",
              "        pm.environment.set(\"arrayN\", _.random(0, 5));\r",
              "\r",
              "    //assign\u00a0above\u00a0random\u00a0number\u00a0as\u00a0array\u00a0index\r",
              "        pm.environment.set(\"SubmitWhereComplaintReceived\", vWhereReceived[pm.environment.get(\"arrayN\")]);\r",
              "\r",
              "        console.log(\"Where Complaint Received =\u00a0\" + pm.environment.get(\"SubmitWhereComplaintReceived\"));\r",
              "\r",
              "\r",
              "// Assign Customer Type Code\r",
              "    //Add\u00a0available\u00a0option\u00a0to\u00a0array\r",
              "        var vCustTypeCode = [\"ANON\", \"CLLR\", \"COFF\", \"CTEN\", \"EMPLOY\", \"OCC\", \"MP\", \"PUBLIC\", \"STAFF\"];\r",
              "\r",
              "    //generate\u00a0a\u00a0random\u00a0number\r",
              "        pm.environment.set(\"arrayN\", _.random(0, 8));\r",
              "\r",
              "    //assign\u00a0above\u00a0random\u00a0number\u00a0as\u00a0array\u00a0index\r",
              "        pm.environment.set(\"SubmitCustomerTypeCode\", vCustTypeCode[pm.environment.get(\"arrayN\")]);\r",
              "\r",
              "        console.log(\"Customer Type Code =\u00a0\" + pm.environment.get(\"SubmitCustomerTypeCode\"));\r",
              "\r",
              "\r",
              "// Assign Customer name\r",
              "\r",
              "    // Add Forename options to array\r",
              "    var vCustForename = [\"Albert\", \"Brenda\", \"Cliff\", \"Delna\", \"Edward\", \"Fran\", \"Geoff\", \"Harriet\", \"Ian\"];\r",
              "\r",
              "    // Add Surname options to array\r",
              "    var vCustSurname = [\"James\", \"Kraft\", \"Lords\", \"Masters\", \"Noel\", \"Orlando\", \"Pasters\", \"Roland\", \"Smiths\"];\r",
              "\r",
              "    // Add Title options to array\r",
              "    var vCustTitle = [\"Mr\", \"Mrs\", \"Master\", \"Miss\", \"Dr\", \"Dame\", \"Sir\", \"Prof\", \"Lord\"];\r",
              "\r",
              "    //generate\u00a0a\u00a0random\u00a0number\r",
              "    pm.environment.set(\"arrayN\", _.random(0, 8));\r",
              "\r",
              "    //assign\u00a0above\u00a0random\u00a0number\u00a0as\u00a0array\u00a0index\r",
              "    pm.environment.set(\"SubmitForenames\", vCustForename[pm.environment.get(\"arrayN\")]);\r",
              "\r",
              "    console.log(\"Customer Forename =\u00a0\" + pm.environment.get(\"SubmitForenames\"));\r",
              "\r",
              "    pm.environment.set(\"SubmitSurname\", vCustSurname[pm.environment.get(\"arrayN\")]);\r",
              "\r",
              "    console.log(\"Customer Surname =\u00a0\" + pm.environment.get(\"SubmitSurname\"));\r",
              "\r",
              "    pm.environment.set(\"SubmitTitle\", vCustTitle[pm.environment.get(\"arrayN\")]);\r",
              "\r",
              "    console.log(\"Customer Title =\u00a0\" + pm.environment.get(\"SubmitTitle\"));\r",
              "\r",
              "\r",
              "//Assign Customer Contact Details   \r",
              "\r",
              "    //Add\u00a0available\u00a0option\u00a0to\u00a0array\r",
              "        var vContactTypeCode = [\"EMAIL\", \"PHONE\", \"MOBILE\", \"LETTER\"];\r",
              "        var vContactDetail = [\"test@test.com\", \"012023432256\", \"07982736453\", \"This is a letter\"]\r",
              "\r",
              "    //generate\u00a0a\u00a0random\u00a0number\r",
              "        pm.environment.set(\"arrayN\", _.random(0, 3));\r",
              "\r",
              "    //assign\u00a0above\u00a0random\u00a0number\u00a0as\u00a0array\u00a0index\r",
              "        pm.environment.set(\"SubmitContactTypeCode\", vContactTypeCode[pm.environment.get(\"arrayN\")]);\r",
              "            console.log(\"Customer Contact Type\u00a0=\u00a0\" + pm.environment.get(\"SubmitContactTypeCode\"));\r",
              "\r",
              "        pm.environment.set(\"SubmitContactDetail\", vContactDetail[pm.environment.get(\"arrayN\")]);\r",
              "            console.log(\"Customer Contact Detail =\u00a0\" + pm.environment.get(\"SubmitContactDetail\"));\r",
              "\r",
              "\r",
              "// Assign customer address\r",
              "\r",
              "    //Add available option to array\r",
              "        var vCustAddress = [\"1 Mornington Road\", \"34 Spa Road\", \"12 Bessbrook Lane\", \"The Old Schoolhouse\", \"Flat no 3 Old Mill\", \"89 The Glen\"];\r",
              "\r",
              "    //generate a random number\r",
              "        pm.environment.set(\"arrayN\", _.random(0, 5));\r",
              "\r",
              "    //assign above random number as array index\r",
              "        pm.environment.set(\"SubmitCustAddress\", vCustAddress[pm.environment.get(\"arrayN\")]);\r",
              "\r",
              "            console.log(\"Customer Address = \" + pm.environment.get(\"SubmitCustAddress\"));\r",
              "\r",
              "\r",
              "// Assign Waive Anonymity\r",
              "\r",
              "    //Add available option to array\r",
              "        var vWaiveAnon = [\"True\", \"False\"]; \r",
              "\r",
              "    //generate a random number\r",
              "        pm.environment.set(\"arrayN\", _.random(0, 1));\r",
              "\r",
              "    //assign above random number as array index\r",
              "        pm.environment.set(\"SubmitCustvWaiveAnon\", vWaiveAnon[pm.environment.get(\"arrayN\")]);\r",
              "\r",
              "            console.log(\"Customer Waive Anonymity = \" + pm.environment.get(\"SubmitCustvWaiveAnon\"));\r",
              "\r",
              ""
            ],
            "type": "text/javascript"
          }
        }
      ],
      "_postman_id": "a1c332b0-c016-4b54-a523-f7f1602667b6",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "name": "Content-Type",
            "type": "text",
            "value": "text/xml"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">\r\n   <soap:Body>\r\n      <SubmitNoiseServiceRequest xmlns=\"http://www.caps-solutions.co.uk/webservices/connectors/731/servicerequest/messagetypes\">\r\n         <SubmittedNoiseServiceRequest xmlns:auto-ns1=\"http://www.caps-solutions.co.uk/webservices/connectors/731/servicerequest/messagetypes\" xmlns=\"http://www.caps-solutions.co.uk/schema/uniform/731/servicerequest/sr/srtypes\">\r\n            <ServiceRequestIdentification>\r\n               <AlternativeReferences>\r\n                  <AlternativeReference xmlns:auto-ns2=\"http://www.caps-solutions.co.uk/schema/uniform/731/servicerequest/sr/srtypes\" xmlns=\"http://www.caps-solutions.co.uk/schema/uniform/72b/common/uniformtypes\">\r\n                     <ReferenceValue>\"{{$guid}}\"</ReferenceValue>\r\n                  </AlternativeReference>\r\n                  <AlternativeReference xmlns:auto-ns2=\"http://www.caps-solutions.co.uk/schema/uniform/731/servicerequest/sr/srtypes\" xmlns=\"http://www.caps-solutions.co.uk/schema/uniform/72b/common/uniformtypes\">\r\n                     <ReferenceValue>\"{{$guid}}\"</ReferenceValue>\r\n                     <ReferenceType>REF1</ReferenceType>\r\n                  </AlternativeReference>\r\n               </AlternativeReferences>\r\n            </ServiceRequestIdentification>\r\n            <ComplaintType>A</ComplaintType>\r\n            <SubmittedSiteLocation>\r\n               <Address>{{SubmitAddressValue}}</Address>\r\n               <UPRN>{{SubmitUPRN}}</UPRN>\r\n            </SubmittedSiteLocation>\r\n            <NatureOfComplaint>{{SubmitNatureOfComplaint}}</NatureOfComplaint>\r\n            <HowComplaintReceived>{{SubmitHowComplaintReceived}}</HowComplaintReceived>\r\n            <WhereComplaintReceived>{{SubmitWhereComplaintReceived}}</WhereComplaintReceived>\r\n            <Customers>\r\n               <SubmittedCustomer>\r\n                  <SubmittedCustomerDetails>\r\n                     <CustomerTypeCode>{{SubmitCustomerTypeCode}}</CustomerTypeCode>\r\n                     <CustomerName>\r\n                        <Forenames>{{SubmitForenames}}</Forenames>\r\n                        <Surname>{{SubmitSurname}}</Surname>\r\n                        <Title>{{SubmitTitle}}</Title>\r\n                     </CustomerName>\r\n                     <SubmittedContactDetails>\r\n                        <SubmittedContactDetail>\r\n                           <ContactTypeCode>{{SubmitContactTypeCode}}</ContactTypeCode>\r\n                           <ContactAddress>{{SubmitContactDetail}}</ContactAddress>\r\n                        </SubmittedContactDetail>\r\n                        <SubmittedContactDetail>\r\n                           <ContactTypeCode>{{SubmitContactTypeCode}}</ContactTypeCode>\r\n                           <ContactAddress>{{SubmitContactDetail}}</ContactAddress>\r\n                        </SubmittedContactDetail>\r\n                     </SubmittedContactDetails>\r\n                     <Address>{{SubmitCustAddress}}</Address>\r\n                     <Uprn/>\r\n                     <WaiveAnonymity>{{SubmitCustvWaiveAnon}}</WaiveAnonymity>\r\n                     <SupportsLegalProceedings>True</SupportsLegalProceedings>\r\n                     <CallbackRequred>True</CallbackRequred>\r\n                     <AccessNotes></AccessNotes>\r\n                     <TimeReceived>2008-02-27T12:52:41.5009472-00:00</TimeReceived>\r\n                  </SubmittedCustomerDetails>\r\n               </SubmittedCustomer>\r\n            </Customers>\r\n            <AllocatedToCode>TRN8</AllocatedToCode>\r\n            <AllocatedToText>Mr Dean Brereton</AllocatedToText>\r\n            <TimeAllocated>2010-03-25T15:51:58.0000000-00:00</TimeAllocated>\r\n            <ReceivedBy>TRN8</ReceivedBy>\r\n            <SubjectName>Mr Complaint de Subject</SubjectName>\r\n            <ContactName>Mr Subject Contact</ContactName>\r\n            <SubmittedSubjectContactDetails>\r\n               <SubmittedContactDetail>\r\n                  <ContactTypeCode>EMAIL</ContactTypeCode>\r\n                  <ContactAddress>me@there.com</ContactAddress>\r\n               </SubmittedContactDetail>\r\n               <SubmittedContactDetail>\r\n                  <ContactTypeCode>PHONE</ContactTypeCode>\r\n                  <ContactAddress>01123-456-7890</ContactAddress>\r\n               </SubmittedContactDetail>\r\n            </SubmittedSubjectContactDetails>\r\n            <TradingAs>Bad Service Ltd</TradingAs>\r\n            <AreaTeam></AreaTeam>\r\n            <FineOrFee>{{FineOrFeeAmt}}</FineOrFee>\r\n         </SubmittedNoiseServiceRequest>\r\n      </SubmitNoiseServiceRequest>\r\n   </soap:Body>\r\n</soap:Envelope>",
          "options": {
            "raw": {}
          }
        },
        "url": {
          "raw": "http://devappcore10/ServiceRequestConnectorService_Q1051M12IdoxTRAIN/ServiceRequestConnectorService.asmx?WSDL",
          "protocol": "http",
          "host": [
            "devappcore10"
          ],
          "path": [
            "ServiceRequestConnectorService_Q1051M12IdoxTRAIN",
            "ServiceRequestConnectorService.asmx"
          ],
          "query": [
            {
              "key": "WSDL",
              "value": null
            }
          ]
        }
      },
      "response": []
    }
  ]
}